var content=function(){"use strict";var ie=Object.defineProperty;var oe=(k,b,y)=>b in k?ie(k,b,{enumerable:!0,configurable:!0,writable:!0,value:y}):k[b]=y;var E=(k,b,y)=>oe(k,typeof b!="symbol"?b+"":b,y);function k(o){return o}function b(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var y={exports:{}},G=y.exports,Y;function Z(){return Y||(Y=1,function(o,e){(function(t,n){n(o)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:G,function(t){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)t.exports=globalThis.browser;else{const n="The message port closed before a response was received.",g=c=>{const h={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(h).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class v extends WeakMap{constructor(r,i=void 0){super(i),this.createItem=r}get(r){return this.has(r)||this.set(r,this.createItem(r)),super.get(r)}}const $=s=>s&&typeof s=="object"&&typeof s.then=="function",R=(s,r)=>(...i)=>{c.runtime.lastError?s.reject(new Error(c.runtime.lastError.message)):r.singleCallbackArg||i.length<=1&&r.singleCallbackArg!==!1?s.resolve(i[0]):s.resolve(i)},C=s=>s==1?"argument":"arguments",j=(s,r)=>function(a,...u){if(u.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${C(r.minArgs)} for ${s}(), got ${u.length}`);if(u.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${C(r.maxArgs)} for ${s}(), got ${u.length}`);return new Promise((d,f)=>{if(r.fallbackToNoCallback)try{a[s](...u,R({resolve:d,reject:f},r))}catch(l){console.warn(`${s} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,l),a[s](...u),r.fallbackToNoCallback=!1,r.noCallback=!0,d()}else r.noCallback?(a[s](...u),d()):a[s](...u,R({resolve:d,reject:f},r))})},B=(s,r,i)=>new Proxy(r,{apply(a,u,d){return i.call(u,s,...d)}});let T=Function.call.bind(Object.prototype.hasOwnProperty);const S=(s,r={},i={})=>{let a=Object.create(null),u={has(f,l){return l in s||l in a},get(f,l,p){if(l in a)return a[l];if(!(l in s))return;let A=s[l];if(typeof A=="function")if(typeof r[l]=="function")A=B(s,s[l],r[l]);else if(T(i,l)){let M=j(l,i[l]);A=B(s,s[l],M)}else A=A.bind(s);else if(typeof A=="object"&&A!==null&&(T(r,l)||T(i,l)))A=S(A,r[l],i[l]);else if(T(i,"*"))A=S(A,r[l],i["*"]);else return Object.defineProperty(a,l,{configurable:!0,enumerable:!0,get(){return s[l]},set(M){s[l]=M}}),A;return a[l]=A,A},set(f,l,p,A){return l in a?a[l]=p:s[l]=p,!0},defineProperty(f,l,p){return Reflect.defineProperty(a,l,p)},deleteProperty(f,l){return Reflect.deleteProperty(a,l)}},d=Object.create(s);return new Proxy(d,u)},F=s=>({addListener(r,i,...a){r.addListener(s.get(i),...a)},hasListener(r,i){return r.hasListener(s.get(i))},removeListener(r,i){r.removeListener(s.get(i))}}),z=new v(s=>typeof s!="function"?s:function(i){const a=S(i,{},{getContent:{minArgs:0,maxArgs:0}});s(a)}),O=new v(s=>typeof s!="function"?s:function(i,a,u){let d=!1,f,l=new Promise(I=>{f=function(x){d=!0,I(x)}}),p;try{p=s(i,a,f)}catch(I){p=Promise.reject(I)}const A=p!==!0&&$(p);if(p!==!0&&!A&&!d)return!1;const M=I=>{I.then(x=>{u(x)},x=>{let V;x&&(x instanceof Error||typeof x.message=="string")?V=x.message:V="An unexpected error occurred",u({__mozWebExtensionPolyfillReject__:!0,message:V})}).catch(x=>{console.error("Failed to send onMessage rejected reply",x)})};return M(A?p:l),!0}),W=({reject:s,resolve:r},i)=>{c.runtime.lastError?c.runtime.lastError.message===n?r():s(new Error(c.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?s(new Error(i.message)):r(i)},K=(s,r,i,...a)=>{if(a.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${C(r.minArgs)} for ${s}(), got ${a.length}`);if(a.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${C(r.maxArgs)} for ${s}(), got ${a.length}`);return new Promise((u,d)=>{const f=W.bind(null,{resolve:u,reject:d});a.push(f),i.sendMessage(...a)})},H={devtools:{network:{onRequestFinished:F(z)}},runtime:{onMessage:F(O),onMessageExternal:F(O),sendMessage:K.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:K.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},m={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return h.privacy={network:{"*":m},services:{"*":m},websites:{"*":m}},S(c,H,h)};t.exports=g(chrome)}})}(y)),y.exports}var X=Z();const w=b(X),J={matches:["*://www.chess.com/puzzles/learning"],main:()=>{let o=!1,e=null,t=null,n=null,g=null,c=null,h=!1,v,$;function R(){return document.querySelector(".board")||document.getElementById("board-layout-chessboard")}function C(){if(console.log("[Chess Trainer] Flip Check: Starting..."),o){console.log("[Chess Trainer] Flip Check: Aborted (already flipping).");return}const m=document.getElementById("board-controls-flip"),s=R();if(!m||!s){console.log("[Chess Trainer] Flip Check: Aborted (board or button not found).");return}o=!0,console.log("[Chess Trainer] Flip Check: Lock acquired."),w.storage.local.get("isFlipped").then(r=>{const i=r.isFlipped||!1,a=s.classList.contains("flipped");console.log(`[Chess Trainer] Flip Check: Should be flipped? ${i}. Is it actually flipped? ${a}.`),i!==a?(console.log("[Chess Trainer] Flip Check: Mismatch detected. Clicking flip button."),m.click()):console.log("[Chess Trainer] Flip Check: Board is in the correct state.")}),setTimeout(()=>{o=!1,console.log("[Chess Trainer] Flip Check: Lock released.")},500)}function j(m){let s="";console.log("[Chess Trainer] Observer: Now watching turn indicator.",m);const r=a=>{var d;const u=((d=a.textContent)==null?void 0:d.trim())||"";console.log(`[Chess Trainer] Observer: Turn indicator text changed to "${u}".`),u.includes("to Move")?u!==s?(console.log(`[Chess Trainer] Observer: New turn detected ("${u}"). Triggering flip check.`),s=u,C()):console.log(`[Chess Trainer] Observer: Turn reverted to the same state ("${u}"). Ignoring flip.`):console.log('[Chess Trainer] Observer: Text is not a turn indicator (e.g., "Correct"). Ignoring.')};new MutationObserver(()=>{r(m)}).observe(m,{childList:!0,subtree:!0,characterData:!0}),r(m)}function B(){e=document.createElement("div"),e.id="chess-trainer-timer",e.innerHTML=`
        <div id="chess-trainer-timer-header">
          <span>Session Timer</span>
          <button id="chess-trainer-minimize-button">-</button>
        </div>
        <div id="chess-trainer-timer-display">--:--</div>
        <div id="chess-trainer-next-chime">Next chime in: --s</div>
      `,document.body.appendChild(e),c=document.getElementById("chess-trainer-timer-header"),t=document.getElementById("chess-trainer-timer-display"),n=document.getElementById("chess-trainer-next-chime"),g=document.getElementById("chess-trainer-minimize-button"),c==null||c.addEventListener("mousedown",O),document.addEventListener("mousemove",W),document.addEventListener("mouseup",K),g==null||g.addEventListener("click",z);const m=document.createElement("style");m.innerHTML=`
        #chess-trainer-timer {
          position: fixed;
          top: 20px;
          right: 20px;
          width: 200px;
          background-color: #2c2c2c;
          color: #f0f0f0;
          border-radius: 8px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.4);
          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
          z-index: 10000;
          display: none; /* Hidden by default */
          user-select: none;
          flex-direction: column;
        }
        #chess-trainer-timer-header {
          padding: 8px 12px;
          background-color: #3e3e3e;
          cursor: move;
          border-top-left-radius: 8px;
          border-top-right-radius: 8px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          font-weight: bold;
        }
        #chess-trainer-minimize-button {
          background: none;
          border: none;
          color: #f0f0f0;
          font-size: 20px;
          font-weight: bold;
          cursor: pointer;
          line-height: 1;
        }
        #chess-trainer-timer-display {
          padding: 20px;
          font-size: 36px;
          text-align: center;
          font-weight: 300;
          padding-top: 10px;
        }
        #chess-trainer-next-chime {
          font-size: 12px;
          text-align: center;
          color: #a0a0a0;
          padding-bottom: 10px;
        }
        #chess-trainer-timer.minimized #chess-trainer-timer-display,
        #chess-trainer-timer.minimized #chess-trainer-next-chime {
          display: none;
        }
      `,document.head.appendChild(m),w.storage.local.get("timerState").then(s=>{s.timerState==="running"&&T()})}function T(){e&&(e.style.display="block")}function S(){e&&(e.style.display="none")}function F(m,s){if(m!==null){const r=Math.floor(m/60).toString().padStart(2,"0"),i=(m%60).toString().padStart(2,"0");t&&(t.textContent=`${r}:${i}`)}n&&(s!==null&&s>0?(n.textContent=`Next chime in: ${s}s`,n.style.display="block"):n.style.display="none")}function z(){e&&e.classList.toggle("minimized")}function O(m){m.preventDefault(),h=!0,e&&(v=m.clientX-e.offsetLeft,$=m.clientY-e.offsetTop)}function W(m){h&&e&&(m.preventDefault(),e.style.left=`${m.clientX-v}px`,e.style.top=`${m.clientY-$}px`)}function K(){h=!1}function H(){console.log("[Chess Trainer] Content script loaded."),B();const m="span.section-heading-title.section-heading-normal";new MutationObserver((r,i)=>{const a=document.querySelector(m);a&&(console.log("[Chess Trainer] Observer: Found turn indicator element."),i.disconnect(),j(a))}).observe(document.body,{childList:!0,subtree:!0}),w.storage.onChanged.addListener((r,i)=>{i==="local"&&(r.isFlipped&&(console.log("[Chess Trainer] Observer: Storage change detected from popup."),C()),r.timerState&&(r.timerState.newValue==="running"?T():S()))}),w.runtime.onMessage.addListener((r,i,a)=>{r.command==="updateTimer"&&(r.isRunning?(T(),F(r.time,r.timeToNextChime)):S())})}H()}};function _(o,...e){}const Q={debug:(...o)=>_(console.debug,...o),log:(...o)=>_(console.log,...o),warn:(...o)=>_(console.warn,...o),error:(...o)=>_(console.error,...o)},N=class N extends Event{constructor(e,t){super(N.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=t}};E(N,"EVENT_NAME",q("wxt:locationchange"));let D=N;function q(o){var e;return`${(e=w==null?void 0:w.runtime)==null?void 0:e.id}:content:${o}`}function ee(o){let e,t;return{run(){e==null&&(t=new URL(location.href),e=o.setInterval(()=>{let n=new URL(location.href);n.href!==t.href&&(window.dispatchEvent(new D(n,t)),t=n)},1e3))}}}const P=class P{constructor(e,t){E(this,"isTopFrame",window.self===window.top);E(this,"abortController");E(this,"locationWatcher",ee(this));E(this,"receivedMessageIds",new Set);this.contentScriptName=e,this.options=t,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(e){return this.abortController.abort(e)}get isInvalid(){return w.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,t){const n=setInterval(()=>{this.isValid&&e()},t);return this.onInvalidated(()=>clearInterval(n)),n}setTimeout(e,t){const n=setTimeout(()=>{this.isValid&&e()},t);return this.onInvalidated(()=>clearTimeout(n)),n}requestAnimationFrame(e){const t=requestAnimationFrame((...n)=>{this.isValid&&e(...n)});return this.onInvalidated(()=>cancelAnimationFrame(t)),t}requestIdleCallback(e,t){const n=requestIdleCallback((...g)=>{this.signal.aborted||e(...g)},t);return this.onInvalidated(()=>cancelIdleCallback(n)),n}addEventListener(e,t,n,g){var c;t==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(c=e.addEventListener)==null||c.call(e,t.startsWith("wxt:")?q(t):t,n,{...g,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),Q.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:P.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(e){var c,h,v;const t=((c=e.data)==null?void 0:c.type)===P.SCRIPT_STARTED_MESSAGE_TYPE,n=((h=e.data)==null?void 0:h.contentScriptName)===this.contentScriptName,g=!this.receivedMessageIds.has((v=e.data)==null?void 0:v.messageId);return t&&n&&g}listenForNewerScripts(e){let t=!0;const n=g=>{if(this.verifyScriptStartedEvent(g)){this.receivedMessageIds.add(g.data.messageId);const c=t;if(t=!1,c&&(e!=null&&e.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",n),this.onInvalidated(()=>removeEventListener("message",n))}};E(P,"SCRIPT_STARTED_MESSAGE_TYPE",q("wxt:content-script-started"));let U=P;const re=Symbol("null");let se=0;class te extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[e]=arguments;if(e!=null){if(typeof e[Symbol.iterator]!="function")throw new TypeError(typeof e+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[t,n]of e)this.set(t,n)}}_getPublicKeys(e,t=!1){if(!Array.isArray(e))throw new TypeError("The keys parameter must be an array");const n=this._getPrivateKey(e,t);let g;return n&&this._publicKeys.has(n)?g=this._publicKeys.get(n):t&&(g=[...e],this._publicKeys.set(n,g)),{privateKey:n,publicKey:g}}_getPrivateKey(e,t=!1){const n=[];for(let g of e){g===null&&(g=re);const c=typeof g=="object"||typeof g=="function"?"_objectHashes":typeof g=="symbol"?"_symbolHashes":!1;if(!c)n.push(g);else if(this[c].has(g))n.push(this[c].get(g));else if(t){const h=`@@mkm-ref-${se++}@@`;this[c].set(g,h),n.push(h)}else return!1}return JSON.stringify(n)}set(e,t){const{publicKey:n}=this._getPublicKeys(e,!0);return super.set(n,t)}get(e){const{publicKey:t}=this._getPublicKeys(e);return super.get(t)}has(e){const{publicKey:t}=this._getPublicKeys(e);return super.has(t)}delete(e){const{publicKey:t,privateKey:n}=this._getPublicKeys(e);return!!(t&&super.delete(t)&&this._publicKeys.delete(n))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new te;function le(){}function L(o,...e){}const ne={debug:(...o)=>L(console.debug,...o),log:(...o)=>L(console.log,...o),warn:(...o)=>L(console.warn,...o),error:(...o)=>L(console.error,...o)};return(async()=>{try{const{main:o,...e}=J,t=new U("content",e);return await o(t)}catch(o){throw ne.error('The content script "content" crashed on startup!',o),o}})()}();
content;
